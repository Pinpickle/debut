!function(t,e){"function"==typeof define&&define.amd?define(["jquery","jquery.transit"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("jquery.transit")):t.Debut=e(t.jQuery,t.jQuery.transit)}(this,function(t,e){var i;return function n(t,e,i){function s(r,a){if(!e[r]){if(!t[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=e[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return s(i?i:e)},h,h.exports,n,t,e,i)}return e[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./animations"),r=s(o),a=t,u=function l(t,e){this.options=a.extend({},l.defaultOptions,t.defaultOptions||{},e),this.definition=t,this.easing=this.options.easing,this.duration=this.options.duration,this.delay=this.options.delay,this.start=this.options.start,this.element=this.options.element,this.$element=a(this.element),this.direction=this.options.direction*(this.options.reverse?-1:1),this.isJQuery=this.element instanceof a,this.isOnDOM=this.element instanceof HTMLElement||this.isJQuery,this.firstRun=!0,this.stores=[],this.contexts=[],this.elements=[],this.$elements=[],this.isHidden()&&1===this.direction&&this.$element.css("visibility","hidden");var i=this;this.options.separateElements?this.$element.each(function(){i.stores.push({}),i.contexts.push({}),i.elements.push(this),i.$elements.push(a(this))}):(i.stores.push({}),i.contexts.push({}),i.elements.push(this.element),i.$elements.push(this.$element))};u.prototype._run=function(t,e){e=e||function(){},t.duration=t.fast?0:this.duration,t.options=this.options;var i=[];this.$elements.forEach(function(t,e){i[e]=1}),this.$elements.forEach(function(n,s){var o=this.contexts[s],r=!1,a=function(){i[s]=0,r||-1!==i.indexOf(1)||(r=!0,e())};for(var u in t)o[u]=t[u];o.element=this.elements[s],o.$element=this.$elements[s],o.store=this.stores[s],this._runWithContext(o,a)}.bind(this)),this.firstRun=!1},u.prototype._runWithContext=function(t,e){if(this.firstRun&&!t.reversed&&this.definition.beforeState&&this.definition.beforeState.call(this,t),this.definition.prepare&&this.definition.prepare.call(this,t),this.isHidden())if(1===t.direction)t.$element.css("visibility","");else{var i=e;e=function(){t.$element.css("visibility","hidden"),i()}.bind(this)}this.definition.call(this,t,e)},u.prototype.isHidden=function(){return this.isOnDOM&&this.options.entrance},u.defaultOptions={easing:"easeInOutCubic",duration:500,delay:0,start:"step",element:null,entrance:!1,reverse:!1,direction:1,separateElements:!0},u._runArray=function(t,e,i){var n=e.direction;"undefined"==typeof i&&(i=1===n?0:t.length),-1===n&&(i-=1);var s=t[i],o=null,r=null,a=!1;1===n?(i+=1,i<t.length?(o=t[i],r=o.start):a=!0):i>0?(o=t[i-1],r=s.start):a=!0;var l=a?e.callback:void 0;if("after"==r){l=u._runArray.bind(this,t,e,i);var h=1===n?o:s;if(h.delay>0&&!e.fast){var d=l;l=function(){setTimeout(d,h.delay)}}}var c={debut:e.debut,direction:s.direction*n,reversed:-1===n,fast:e.fast},f=function(){if(s._run(c,l),"with"==r)if(1===n)o.delay>0&&!e.fast?setTimeout(u._runArray.bind(this,t,e,i),o.delay):u._runArray(t,e,i);else if(s.delay>0&&!e.fast){var a=Math.max(s.delay+s.duration-o.duration,0);setTimeout(u._runArray.bind(this,t,e,i),a)}else u._runArray(t,e,i)}.bind(this);s.delay>0&&!e.fast&&1===n&&"start"===s.step?setTimeout(f,s.delay):f()},u.animations=r["default"],n["default"]=u,i.exports=n["default"]},{"./animations":2}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={};n.appear=function(t,e){setTimeout(e.bind(this),t.duration)},n.appear.beforeState=function(t){},n.appear.defaultOptions={entrance:!0,duration:0},n.fade=function(t,e){t.$element.transit({opacity:1===t.direction?t.store.opacity:0},{duration:t.duration,easing:t.options.easing,complete:e})},n.fade.prepare=function(t){1===t.direction&&t.$element.css("opacity",0)},n.fade.beforeState=function(t){t.store.opacity=t.$element.css("opacity")},n.fade.defaultOptions={entrance:!0,duration:500},n.slide=function(t,e){t.$element.transit({x:"+="+-t.direction*t.store.leftShift,y:"+="+-t.direction*t.store.topShift},{duration:t.duration,easing:t.options.easing,complete:e})},n.slide.prepare=function(t){var e=0,i=0;1===t.direction&&t.$element.css({x:t.store.x,y:t.store.y});var n=t.debut.offset(t.$element);switch(t.options.from){default:case"left":e=-(t.$element.width()+n.left);break;case"right":e=t.debut.bounds.visibleWidth-n.left;break;case"top":i=-(t.$element.height()+n.top);break;case"bottom":i=t.debut.bounds.visibleHeight-n.top}1===t.direction&&t.$element.css({x:"+="+t.direction*e,y:"+="+t.direction*i}),t.store.leftShift=e,t.store.topShift=i},n.slide.beforeState=function(t){t.store.x=t.$element.css("x"),t.store.y=t.$element.css("y")},n.slide.defaultOptions={entrance:!0,from:"left"},n.toggleclass=function(t,e){var i=!t.store.hasClass&&!t.reversed;i?t.$element.addClass(t.options["class"]):t.$element.removeClass(t.options["class"]),setTimeout(e.bind(this),t.duration)},n.toggleclass.beforeState=function(t){t.store.hasClass=t.$element.hasClass(t.options["class"])},n.toggleclass.defaultOptions={duration:0},n.animatecss=function(t,e){var i=t.reversed?t.store.props:t.options.props;t.$element.transit(i,{duration:t.duration,easing:t.options.easing,complete:e,queue:!1})},n.animatecss.beforeState=function(t){t.store.props={};for(var e in t.options.props)t.store.props[e]=t.$element.css(e)},n.animatecss.defaultOptions={easing:"ease"},n.animate=function(t,e){var i=t.reversed?t.store.props:t.options.props;t.$element.animate(i,{duration:t.duration,easing:t.options.easing,complete:e,queue:!1})},n.animate.beforeState=function(t){t.store.props={};for(var e in t.options.props)t.store.props[e]=t.$element.attr(e)},n.animate.defaultOptions={easing:"swing"},i["default"]=n,e.exports=i["default"]},{}],3:[function(e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./animation"),r=s(o),a=e("./presenter"),u=s(a),l=e("./dom-iterator"),h=s(l),d=e("screenfull"),c=s(d),f=t,p=function m(t,e){this.$={},this.elements={},this.options=f.extend({},m.defaultOptions,e),this.elements.container=t,this.$.container=f(this.elements.container),this.$.container.addClass("debut-container");var i=["focusFlash"];i.forEach(function(t){this.options[t]&&this.$.container.addClass("debut-option-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())}.bind(this)),this.$.container.attr("tabindex","1"),this.$.innerContainer=this.$.container.wrapInner('<div class="debut-container-inner">').children(),this.$.innerContainer.css({width:this.options.baseWidth,height:this.options.baseWidth/this.options.aspect}),this.elements.innerContainer=this.$.innerContainer[0],this._presenterViewWindow=null,this._domIterator=new h["default"](this.$.innerContainer,function(t,e){t.call(this,this,e)}.bind(this)),this.bounds={},this.animationQueue=[],this.animationIndex=0,this.milestones=[],this.options.full&&this.$.container.addClass("debut-full"),this.options.letterbox&&this.$.container.addClass("debut-letterbox"),this._ready=!1,this._addEventListeners(),this.milestone("Start")};p.prototype.resize=function(t){var e=this.bounds;e.width=this.$.innerContainer.width(),e.height=this.$.innerContainer.height(),e.outerWidth=this.$.container.width(),e.outerHeight=this.$.container.height(),e.aspect=e.outerWidth/e.outerHeight,this.options.letterbox?(e.visibleWidth=e.width,e.visibleHeight=e.height):(e.visibleWidth=e.outerWidth,e.visibleHeight=e.outerHeight),e.aspect>this.options.aspect?(e.scale=e.outerHeight/(this.options.baseWidth/this.options.aspect),e.top=0,e.left=(e.outerWidth-this.options.baseWidth*e.scale)/2):(e.scale=e.outerWidth/this.options.baseWidth,e.top=(e.outerHeight-this.options.baseWidth/this.options.aspect*e.scale)/2,e.left=0),this.$.innerContainer.css({scale:e.scale,top:e.top,left:e.left})},p.prototype._addEventListeners=function(){if(this.resize(),f(window).on("resize",this.resize.bind(this)),this.options.clickToProceed&&(this.$.container.click(function(){1===this._focusState?this._focusState=0:0===this._focusState&&this.next()}.bind(this)),this.$.container.on("focus",function(){this._focusState=1}.bind(this)),this.$.container.on("blur",function(){this._focusState=2}.bind(this))),f(window).on("beforeunload",function(){this._presenterViewWindow&&this._presenterViewWindow.close()}.bind(this)),this.options.keys){var t=function(t,e,i){var n=this;this.options.keys[t].forEach(function(t){e.which===t&&i.call(n)})}.bind(this);this.$.container.keyup(function(e){t("next",e,this.next),t("prev",e,this.prev),t("presenter",e,this.openPresenterView.bind(this,this.options.presenterUrl)),t("fullscreen",e,this.toggleFullscreen)}.bind(this))}},p.prototype.step=function(t,e,i){i=i||{},"string"==typeof t&&(t=f(t)),"function"==typeof t&&(e=t,t={}),"string"==typeof e&&(e=p.animations[e]),e=new r["default"](e,f.extend({},{element:t},i));var n=f(i.to)[0]||t instanceof f?t[0]:t;if(this._domIterator.countHooks()>0&&n instanceof HTMLElement&&this._domIterator.iterate(n),"step"!==e.start){if(0===this.animationQueue.length)throw new Error("First animation start type must be step");var s=this.animationQueue.pop();s instanceof Array?(s.push(e),e=s):e=[s,e]}return this.animationQueue.push(e),this},p.prototype.and=function(t,e,i){return i=f.extend({start:"with"},i),this.step(t,e,i)},p.prototype.then=function(t,e,i){return i=f.extend({start:"after"},i),this.step(t,e,i)},p.prototype.all=function(t,e,i){return this._domIterator.addHook(t,e,i),this},p.prototype.ready=function(){if(this._ready)throw new Error("Debut.ready cannot be called on a presentation more than once.");return this._domIterator.iterate(this.$.innerContainer.children().last()[0],!0),this._ready=!0,this},p.prototype.next=function(){this.animationIndex<this.animationQueue.length&&this.proceed(1)},p.prototype.prev=function(){this.animationIndex>0&&this.proceed(-1)},p.prototype.proceed=function(t,e,i){this._ready||(console.warning("Calling Debut.ready on first animation. For better performance, call this yourself after all of the animations have been added."),this.ready()),-1===t&&(this.animationIndex-=1);var n=this.animationQueue[this.animationIndex];1===t&&(this.animationIndex+=1);var s={direction:t,reversed:-1===t,debut:this,fast:!!i};n instanceof Array?(s.callback=e,r["default"]._runArray(n,s)):(s.direction*=n.direction,n._run(s,e))},p.prototype.goTo=function(t,e){if("string"==typeof t){var i=!1;this.milestones.forEach(function(e){i||e.name.toLocaleLowerCase()!==t.toLocaleLowerCase()||(i=!0,t=e.index)})}t=Math.max(0,Math.min(this.animationQueue.length,t));var n=t-this.animationIndex;if(0!==n){var s=n>0?1:-1,o=function(){var i=e;(1===s&&this.animationIndex<t-1||-1===s&&this.animationIndex>t+1)&&(i=o),this.proceed(s,i,!0)}.bind(this);o()}},p.prototype.milestone=function(t,e){var i=this.animationQueue.length,n=null;this.milestones.length>0&&(n=this.milestones[this.milestones.length-1]),null!==n&&n.index===i&&this.milestones.pop();var s={name:t,index:i,metadata:e};return this.milestones.push(s),this},p.prototype.toggleFullscreen=function(){c["default"].enabled&&c["default"].toggle(this.elements.container)},p.prototype.openPresenterView=function(t,e){return this._presenterViewWindow&&this._presenterViewWindow.close(),this._presenterViewWindow=window.open(t,"Debut Presenter View","height=800,width=1000,modal=yes"),this._presenterViewWindow.onload=function(){this.presenterView=new u["default"](f(this._presenterViewWindow.document).find(".debut-presenter-view")[0],this,this._presenterViewWindow),e&&e()}.bind(this),f(this._presenterViewWindow).on("beforeunload",function(){this._presenterViewWindow=null,this.presenterView=null}.bind(this)),this.presenterView},p.prototype.getAnimation=function(t){return 0>t||t>=this.animationQueue.length?null:this.animationQueue[t]},p.prototype.offset=function(t){t instanceof f||(t=f(t));var e=t.offset();return e.left=(e.left-this.bounds.left)/this.bounds.scale,e.top=(e.top-this.bounds.top)/this.bounds.scale,e},p.defaultOptions={full:!0,fullscreen:!1,aspect:16/9,baseWidth:1e3,letterbox:!0,keys:{next:[39,34],prev:[37,33],presenter:[80],fullscreen:[70]},clickToProceed:!0,presenterUrl:"presenter.html",focusFlash:!0},p.Animation=r["default"],p.animations=r["default"].animations,p.PresenterView=u["default"],p.DomIterator=h["default"],n["default"]=p,i.exports=n["default"]},{"./animation":1,"./dom-iterator":4,"./presenter":5,screenfull:6}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(t,e){this._hooks=[],this._$container=t,this._lastDomElement=null,this.callback=e};n.prototype.addHook=function(t,e,i){return i=i||{},this._hooks.push({selector:t,hook:e,options:i}),this},n.prototype.iterate=function(t,e){this._iterateDom(t,!!e)},n.prototype.countHooks=function(){return this._hooks.length},n.prototype._iterateDom=function(t,e,i){if(this._lastDomElement||(this._lastDomElement=this._$container.children()[0]),!i){if(!$.contains(this._$container[0],t))return!0;var n=this._$container.find("*");i=this._lastDomElement;var s=$(n).index(i),o=$(n).index(t);if(s>=o)return!0}if(this._lastDomElement=i,i==t&&!e)return!0;var r=this,a=$(i);r._runDomHooks(a);var u=a.children();return u.length>0&&this._iterateDom(t,e,u[0])?!0:this._finishDomElement(i,t,e)},n.prototype._finishDomElement=function(t,e,i){var n=$(t);if(this._runDomHooks(n,!0),t==e)return this._lastDomElement=t,!0;var s=n.next();if(s.length>0)return this._iterateDom(e,i,s[0]);var o=n.parent();return o.length>0?this._iterateDom(e,i,o[0]):!0},n.prototype._runDomHooks=function(t,e){var i=this;e=!!e,this._hooks.forEach(function(n){t.is(n.selector)&&("exit"===n.options.on&&e||"exit"!==n.options.on&&!e)&&i.callback.call(null,n.hook,t)})},i["default"]=n,e.exports=i["default"]},{}],5:[function(e,i,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t,o=function(t,e,i,n){if(this.debut=e,"undefined"==typeof i&&(i=window),"undefined"==typeof n&&(n=i.document),this.elements={container:t,window:i,document:n},this.$={container:s(t),window:s(i),document:s(n)},this.$.milestones=this.$.container.find(".debut-milestones"),this.elements.milestones=this.$.milestones[0],this._addMilestones(),this.$.container.find(".debut-button-next").click(e.next.bind(e)),this.$.container.find(".debut-button-prev").click(e.prev.bind(e)),this.resetTimer(),this.startTimer(),this.$.container.find(".debut-button-reset-timer").click(this.resetTimer.bind(this)),this.$.container.find(".debut-button-pause-timer").click(this.toggleTimer.bind(this)),this.debut.options.keys){var o=function(t,e,i){var n=this;this.debut.options.keys[t].forEach(function(t){e.which===t&&i.call(n)})}.bind(this);this.$.window.keyup(function(t){o("next",t,e.next.bind(e)),o("prev",t,e.prev.bind(e))}.bind(this))}};o.prototype._addMilestones=function(){this.debut.milestones.forEach(function(t){var e=s('<button class="debut-button debut-milestone">'+t.name+"</div>");e.click(function(){this.debut.goTo(t.index)}.bind(this)),this.$.milestones.append(e)}.bind(this))},o.prototype.startTimer=function(){if(!this.isPlaying()){var t=Date.now();this.startTime+=t-this.lastTime,this.lastTime=t,this.interval=setInterval(this._renderTimer.bind(this),500),this._renderTimer(),this.$.document.find(".debut-button-pause-timer").text("Pause Timer")}},o.prototype.pauseTimer=function(){this.isPlaying()&&(clearInterval(this.interval),this.interval=null,this.$.document.find(".debut-button-pause-timer").text("Start Timer"))},o.prototype.resetTimer=function(){this.startTime=Date.now(),this.lastTime=Date.now(),this._renderTimer(),this.isPlaying()&&(this.pauseTimer(),this.startTimer())},o.prototype.toggleTimer=function(){this.isPlaying()?this.pauseTimer():this.startTimer()},o.prototype.isPlaying=function(){return null!==this.interval},o.prototype._renderTimer=function(){var t=Date.now(),e=t-this.startTime;this.lastTime=t;var i=Math.floor(e/6e4),n=Math.floor(e/1e3-60*i);this.$.document.find(".debut-timer-number.debut-minutes").text(i),this.$.document.find(".debut-timer-number.debut-seconds").text(n)},n["default"]=o,i.exports=n["default"]},{}],6:[function(t,e,i){!function(){"use strict";var t="undefined"!=typeof e&&e.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,s=i.length,o={};s>n;n++)if(t=i[n],t&&t[1]in document){for(n=0,e=t.length;e>n;n++)o[i[0][n]]=t[n];return o}return!1}(),s={request:function(t){var e=n.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](i&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:n};return n?(Object.defineProperties(s,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),void(t?e.exports=s:window.screenfull=s)):void(t?e.exports=!1:window.screenfull=!1)}()},{}],7:[function(t,e,n){"use strict";i=t("./debut")},{"./debut":3}]},{},[7]),i});