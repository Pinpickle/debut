!function(t,i){"function"==typeof define&&define.amd?define(["jquery","jquery.transit"],i):"object"==typeof exports?module.exports=i(require("jquery"),require("jquery.transit")):t.Debut=i(t.jQuery,t.jQuery.transit)}(this,function(t,i){var e;return function n(t,i,e){function s(r,h){if(!i[r]){if(!t[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(i){var e=t[r][1][i];return s(e?e:i)},d,d.exports,n,t,i,e)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<e.length;r++)s(e[r]);return s}({1:[function(i,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=i("./animations"),r=s(o),h=t,a=function u(t,i){this.options=h.extend({},u.defaultOptions,t.defaultOptions||{},i),this.definition=t,this.easing=this.options.easing,this.duration=this.options.duration,this.delay=this.options.delay,this.start=this.options.start,this.element=this.options.element,this.$element=h(this.element),this.direction=this.options.direction*(this.options.reverse?-1:1),this.isJQuery=this.element instanceof h,this.isOnDOM=this.element instanceof HTMLElement||this.isJQuery,this.firstRun=!0,this.store={},this.isHidden()&&1===this.direction&&this.$element.css("visibility","hidden")};a.prototype.run=function(t,i){if(i=i||function(){},this.firstRun&&!t.reversed&&this.definition.beforeState&&(this.definition.beforeState.call(this,t),this.firstRun=!1),this.definition.prepare&&this.definition.prepare.call(this,t),this.isHidden())if(1===t.direction)this.$element.css("visibility","");else{var e=i;i=function(){this.$element.css("visibility","hidden"),e()}.bind(this)}this.definition.call(this,t,i)},a.prototype.isHidden=function(){return this.isOnDOM&&this.options.entrance},a.defaultOptions={easing:"easeInOutCubic",duration:500,delay:0,start:"step",element:null,entrance:!1,reverse:!1,direction:1},a.animations=r["default"],n["default"]=a,e.exports=n["default"]},{"./animations":2}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.appear=function(t,i){setTimeout(i.bind(this),this.duration)},n.appear.beforeState=function(t){},n.appear.defaultOptions={entrance:!0,duration:0},n.slide=function(t,i){this.$element.transit({x:"+="+-t.direction*this.store.leftShift,y:"+="+-t.direction*this.store.topShift},this.options.duration,this.options.easing,i)},n.slide.prepare=function(t){var i=0,e=0;1===t.direction&&this.$element.css({x:this.store.x,y:this.store.y});var n=t.debut.offset(this.$element);switch(this.options.from){default:case"left":i=-(this.$element.width()+n.left);break;case"right":i=t.debut.bounds.visibleWidth-n.left;break;case"top":e=-(this.$element.height()+n.top);break;case"bottom":e=t.debut.bounds.visibleHeight-n.top}1===t.direction&&this.$element.css({x:"+="+t.direction*i,y:"+="+t.direction*e}),this.store.leftShift=i,this.store.topShift=e},n.slide.beforeState=function(t){this.store.x=this.$element.css("x"),this.store.y=this.$element.css("y")},n.slide.defaultOptions={entrance:!0,from:"left"},e["default"]=n,i.exports=e["default"]},{}],3:[function(i,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=i("./animation"),r=s(o),h=t,a=function u(t,i){this.$={},this.elements={},this.options=h.extend({},u.defaultOptions,i),this.elements.container=t,this.$.container=h(this.elements.container),this.$.container.addClass("debut-container"),this.$.container.attr("tabindex","1"),this.$.innerContainer=this.$.container.wrapInner('<div class="debut-container-inner">').children(),this.$.innerContainer.css({width:this.options.baseWidth,height:this.options.baseWidth/this.options.aspect}),this.elements.innerContainer=this.$.innerContainer[0],this.bounds={},this.animationQueue=[],this.animationIndex=0,this.options.full&&this.$.container.addClass("debut-full"),this.options.letterbox&&this.$.container.addClass("debut-letterbox"),this._addEventListeners()};a.prototype.resize=function(t){this.bounds.width=this.$.innerContainer.width(),this.bounds.height=this.$.innerContainer.height(),this.bounds.outerWidth=this.$.container.width(),this.bounds.outerHeight=this.$.container.height(),this.bounds.aspect=this.bounds.outerWidth/this.bounds.outerHeight,this.options.letterbox?(this.bounds.visibleWidth=this.bounds.width,this.bounds.visibleHeight=this.bounds.height):(this.bounds.visibleWidth=this.bounds.outerWidth,this.bounds.visibleHeight=this.bounds.outerHeight),this.bounds.aspect>this.options.aspect?(this.bounds.scale=this.bounds.outerHeight/(this.options.baseWidth/this.options.aspect),this.bounds.top=0,this.bounds.left=(this.bounds.outerWidth-this.options.baseWidth*this.bounds.scale)/2):(this.bounds.scale=this.bounds.outerWidth/this.options.baseWidth,this.bounds.top=(this.bounds.outerHeight-this.options.baseWidth/this.options.aspect*this.bounds.scale)/2,this.bounds.left=0),this.$.innerContainer.css({scale:this.bounds.scale,top:this.bounds.top,left:this.bounds.left})},a.prototype._addEventListeners=function(){var t=this;this.resize(),h(window).on("resize",this.resize.bind(this)),this.$.container.click(this.next.bind(this)),this.options.keys&&this.$.container.keyup(function(i){this.options.keys.next.forEach(function(e){i.which===e&&t.next()}),this.options.keys.prev.forEach(function(e){i.which===e&&t.prev()})}.bind(this))},a.prototype.step=function(t,i,e){return"string"==typeof t&&(t=h(t)[0]),i=a.animations[i],i=new r["default"](i,h.extend({},{element:t},e)),this.animationQueue.push(i),this},a.prototype.and=function(t,i,e){return e=h.extend({start:"with"},e),this.step(t,i,e)},a.prototype.then=function(t,i,e){return e=h.extend({start:"after"},e),this.step(t,i,e)},a.prototype.next=function(){this.animationIndex<this.animationQueue.length&&this.proceed(1)},a.prototype.prev=function(){this.animationIndex>0&&this.proceed(-1)},a.prototype.proceed=function(t,i){var e=!1;"undefined"==typeof i&&(i=this.animationIndex,e=!0),-1===t&&(i-=1);var n=this.animationQueue[i],s=null,o=null;1===t?(i+=1,i<this.animationQueue.length&&(s=this.animationQueue[i],o=s.start)):i>=0&&(s=this.animationQueue[i-1],o=n.start);var r;if("after"==o){r=this.proceed.bind(this,t,i);var h=1===t?s:n;if(h.delay>0){var a=r;r=function(){setTimeout(a,h.delay)}}}var u={debut:this,direction:n.direction*t,reversed:-1===t},d=function(){if(n.run(u,r),"with"==o)if(1===t)s.delay>0?setTimeout(this.proceed.bind(this,t,i),s.delay):this.proceed(t,i);else if(n.delay>0){var e=Math.max(n.delay+n.duration-s.duration,0);setTimeout(this.proceed.bind(this,t,i),e)}else this.proceed(t,i)}.bind(this);if(n.delay>0&&1===t&&"start"===n.step?setTimeout(d,n.delay):d(),e){var l=n,f=i;for(f-=t;(l=this.getAnimation(f+=t))&&"step"!==l.start;);i=Math.max(0,Math.min(f,this.animationQueue.length)),this.animationIndex=i}},a.prototype.getAnimation=function(t){return 0>t||t>=this.animationQueue.length?null:this.animationQueue[t]},a.prototype.offset=function(t){t instanceof h||(t=h(t));var i=t.offset();return i.left=(i.left-this.bounds.left)/this.bounds.scale,i.top=(i.top-this.bounds.top)/this.bounds.scale,i},a.defaultOptions={full:!0,fullscreen:!1,aspect:16/9,baseWidth:1e3,letterbox:!0,keys:{next:[39,34],prev:[37,33]}},a.Animation=r["default"],a.animations=r["default"].animations,n["default"]=a,e.exports=n["default"]},{"./animation":1}],4:[function(t,i,n){"use strict";e=t("./debut")},{"./debut":3}]},{},[4]),e});
